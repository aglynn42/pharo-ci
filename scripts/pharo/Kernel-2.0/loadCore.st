[| packages newPackages gofer |UIManager default progressBarEnabled: true.MCMethodDefinition initializersEnabled: false.packages := 'Announcements-CoreCollections-AbstractCollections-ArrayedCollections-AtomicCollections-SequenceableCollections-StackCollections-StreamsCollections-StringsCollections-SupportCollections-TextCollections-UnorderedCollections-WeakCollections-NativeCompilerCompressionFilesGofer-CoreGraphics-Display ObjectsGraphics-PrimitivesGraphics-TransformationsKernelMonticelloMultilingual-EncodingsMultilingual-ImmPluginMultilingual-LanguagesMultilingual-TextConversionNetwork-KernelNetwork-MIMENetwork-ProtocolsNetwork-URINetwork-UUIDNetwork-UrlSystem-AnnouncementsSystem-BreakPointsSystem-Change NotificationSystem-ChangesSystem-ClipboardSystem-DebuggingSystem-FileRegistrySystem-FinalizationSystem-LocalizationSystem-Object EventsSystem-Object StorageSystem-PlatformsSystem-SupportTraitsTranscriptUIManagerPackageInfoMonticelloConfigurationsZinc-HTTPZinc-Patch-HTTPSocket' lines.packages do: [:package | MCWorkingCopy forPackage: (MCPackage new name: package)].newPackages :=  'Announcements-ViewAnnouncements-HelpAnnouncements-Tests-CoreBalloonBalloonTestsCollections-ArithmeticCollections-NativeCollections-TraitsCollectionsTestsCompatibilityCompilerTestsCompressionTestsDeprecated14EmergencyEvaluatorEventModelFileSystem-AnsiStreamsFileSystem-CoreFileSystem-DiskFileSystem-MemoryFileSystem-Tests-AnsiStreamsFileSystem-Tests-CoreFileSystem-Tests-DiskFileSystem-Tests-MemoryFileSystem-ZipFixUnderscoresFreeTypeFreeTypeTestsGofer-TestsGraphics-ExternalGraphics-FilesGraphics-FontsGraphics-ResourcesGraphics-SupportGraphics-TestsGraphics-TextHelpSystem-CoreHelpSystem-TestsHostMenusKernelTestsMenuRegistrationMonticelloConfigurationsMonticelloGUIMonticelloMocksMorphicMorphicTestsMultilingual-TestsNetwork-MailNetwork-RFC822Network-RemoteDirectoryNetworkTestsNonInteractiveTranscriptNECompletionNOCompletionPolymorph-EventEnhancementsPolymorph-GeometryPolymorph-TaskbarIconsPolymorph-Tools-DiffPolymorph-WidgetsRecentSubmissionsRegex-CoreRegex-HelpRegex-Tests-CoreRing-Core-ContainersRing-Core-KernelRing-Tests-ContainersRing-Tests-KernelSUnit-CoreSUnit-HelpSUnit-TestsSUnit-UIScriptLoader20Settings-CompilerSettings-DisplaySettings-FreeTypeSettings-GraphicsSettings-KernelSettings-MonticelloSettings-NetworkSettings-PolymorphSettings-SystemSettings-ToolsShoutShoutTestsStartupPreferencesSystem-ApplicationsSystem-DownloadSystem-FilePackageSystem-HashingSystem-HistorySystem-InstallersSystem-Serial PortSystem-SettingsSystem-SoundSystem-TextSystem-ToolsTestsToolsToolsTestTrueTypeUI-BasicZinc-Tests' lines.ZnConnectionTimeout value: 300 during: [  gofer:= Gofer it squeaksource3: 'Pharo20'.  newPackages do: [:package | gofer package: package ].  gofer load.].MCMethodDefinition initializersEnabled: true.SmalltalkImage current snapshot: true andQuit: true.] ifError: [:e |	| rep |	rep := FileStream forceNewFileNamed: 'PharoDebug.log'.	rep nextPutAll: 'Error:'; cr.	rep nextPutAll: e asString; cr.	rep nextPutAll: thisContext stack size asString; cr."	rep nextPutAll: ((thisContext stack copy at: 12) tempsAndValues ) asString; cr."	thisContext stack copy withIndexDo: [:stck :i |		[rep nextPutAll: i asString; space; nextPutAll: stck asString; cr] ifError: [:er | rep nextPutAll: er asString; cr]].	rep close. 	Smalltalk quitPrimitive.]