Object subclass: #TSUISettings	instanceVariableNames: 'uiContent typeCheckingButton castButton instrumentatioButton typeCheckingColor castsColor instrumentationColor'	classVariableNames: ''	poolDictionaries: ''	category: 'TypeSystem-Polymorph'!!TSUISettings methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 23:57'!castButtonText	^ TypeConfiguration uniqueInstance enableCasts  			ifTrue: [				self castsColor color: Color green .				self class activeText] 			ifFalse: [				self castsColor color: Color red .				self class deactiveText]! !!TSUISettings methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 23:57'!castsColor 	^ castsColor ifNil:[castsColor := self morphWithColor: Color white ]! !!TSUISettings methodsFor: 'as yet unclassified' stamp: 'OzC 8/24/2012 11:30'!createUIContent 	|builder|	builder := UITheme builder .		typeCheckingButton := builder newButtonFor: self action: #toggleTypeChecking label: (self typeCheckingButtonText)  help: 'Activate or deactive the type system'.	castButton := builder newButtonFor: self action: #toggleCasts label: (self castButtonText)  help: 'Activate or deactive runtime casts'.	instrumentatioButton  := builder newButtonFor: self action: #toggleInstrumentation label: (self instrumentatioButtonText)  help: 'Activate or deactive the instrumentation'.			uiContent := builder newColumn: {		builder newLabelGroup:  {			'Type-checking: ' -> (builder newRow: {  typeCheckingColor  . typeCheckingButton}) .			'Runtime-casts: ' -> (builder newRow: {   castsColor  . castButton}) .			'Instrumentation: ' -> (builder newRow: {  instrumentationColor  . instrumentatioButton})		}	}! !!TSUISettings methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 23:01'!initialize 	super initialize .	self createUIContent ! !!TSUISettings methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 23:59'!instrumentatioButtonText	^ TypeConfiguration uniqueInstance enableInstrumentation 			ifTrue: [				self instrumentationColor color: Color green .				self class activeText] 			ifFalse: [				self instrumentationColor color: Color red .				self class deactiveText]! !!TSUISettings methodsFor: 'as yet unclassified' stamp: 'OzC 8/24/2012 00:01'!instrumentationColor 	^ instrumentationColor ifNil: [instrumentationColor := self morphWithColor: Color white]! !!TSUISettings methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 23:54'!morphWithColor: color	^ Morph new extent: 40@20; color: color! !!TSUISettings methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 23:49'!open	(uiContent openInWindowLabeled: 'Gradualtalk settings') extent: 300@120	! !!TSUISettings methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 23:34'!toggleCasts	TypeConfiguration uniqueInstance enableCasts: TypeConfiguration uniqueInstance enableCasts not.	castButton  label: self castButtonText  .! !!TSUISettings methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 23:35'!toggleInstrumentation	TypeConfiguration uniqueInstance enableInstrumentation: TypeConfiguration uniqueInstance enableInstrumentation not.	instrumentatioButton  label: self instrumentatioButtonText   .! !!TSUISettings methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 23:34'!toggleTypeChecking	TypeConfiguration uniqueInstance disable: TypeConfiguration uniqueInstance disable not.	typeCheckingButton label: self typeCheckingButtonText .! !!TSUISettings methodsFor: 'as yet unclassified' stamp: 'OzC 8/24/2012 00:05'!typeCheckingButtonText	^ TypeConfiguration uniqueInstance disable 			ifTrue: [ 				self typeCheckingColor color: Color red .				self class deactiveText ] 			ifFalse: [				self typeCheckingColor color: Color green .				self class activeText ]! !!TSUISettings methodsFor: 'as yet unclassified' stamp: 'OzC 8/24/2012 00:01'!typeCheckingColor	^ typeCheckingColor ifNil: [typeCheckingColor := self morphWithColor: Color white]! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!TSUISettings class	instanceVariableNames: 'instance'!!TSUISettings class methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 23:53'!activeText 	^ '    Activated    '! !!TSUISettings class methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 23:52'!deactiveText 	^ '  Deactivated  '! !!TSUISettings class methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 22:55'!forceCleanUp	instance := nil! !!TSUISettings class methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 22:57'!forceOpen	^ self 	forceCleanUp ;			open! !!TSUISettings class methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 22:50'!instance 	^ instance ifNil: [instance := super new.]! !!TSUISettings class methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 22:50'!new	^ self instance! !!TSUISettings class methodsFor: 'as yet unclassified' stamp: 'OzC 8/23/2012 22:51'!open	^ self instance open! !