'From Pharo1.4 of 18 April 2012 [Latest update: #14438] on 20 November 2012 at 7:19:13 pm'!!TypeCollector methodsFor: '*typesystem-inference' stamp: 'EstebanAllende 11/20/2012 19:09'!packagedResults	| results instVarDict methodsDict|	results := IdentityDictionary new.	instVarDict := IdentityDictionary new.	methodsDict := IdentityDictionary new.	results at: #instVars put: instVarDict.	results at: #methods put: methodsDict.	instVars size - theClass instVarNames size + 1		to: instVars size		do:			[:index | 			instVarDict				at: (instVars at: index)				put: (self typingResults at: index) types].	localTypingResults keysAndValuesDo: [:cm :arr | |methodDict|		methodDict := self packagedResultsForCompiledMethod: cm."IdentityDictionary new.		"methodsDict at: cm selector asSymbol put: methodDict."		1 to: arr size - 1 do: [:i | methodDict at: ( 'tmp', i printString) asSymbol put: (arr at: i) types].		methodDict at: #return put: (arr last) types.		" ].	 	^results! !!TypeCollector methodsFor: '*typesystem-inference' stamp: 'EstebanAllende 11/20/2012 19:14'!packagedResultsForCompiledMethod: aCompiledMethod	| results arr tmpNames|	results := IdentityDictionary new.	arr := (localTypingResults at: aCompiledMethod).	tmpNames := [aCompiledMethod methodNode tempNames] on: Error do: [aCompiledMethod tempNames].		1 to: (tmpNames size min: arr size) do: [:i | results at: (tmpNames at: i) asSymbol put: (arr at: i) types].		results at: (#^) put: (arr last) types.	 	^results! !